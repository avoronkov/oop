<html>
<head>
	<title>_all activity</title>
	<script src="../js/Chart.bundle.js"></script>
	<script src="../js/moment.min.js"></script>
	<script src="../js/utils.js"></script>
</head>

<body>
	<h1>_all</h1>
	<div style="margin: 3em;">
		<canvas id="canvas1" width="800" height="400"></canvas>
		<canvas id="canvas2" width="800" height="400"></canvas>
	</div>
	<script>
var dateFormat = 'YYYY-MM-DD';

var raw = [
    ['2017-09-08', 2, 2],
    ['2017-09-12', 4, 3],
    ['2017-09-15', 5, 3],
    ['2017-09-17', 3, 1],
    ['2017-09-18', 5, 2],
    ['2017-09-21', 3, 1],
    ['2017-09-22', 19, 3],
    ['2017-09-23', 1, 1],
    ['2017-09-24', 4, 1],
    ['2017-09-26', 1, 2],
    ['2017-09-27', 5, 3],
    ['2017-09-28', 7, 5],
    ['2017-09-29', 22, 9],
    ['2017-10-01', 7, 2],
    ['2017-10-02', 5, 1],
    ['2017-10-04', 3, 1],
    ['2017-10-06', 8, 3],
    ['2017-10-07', 5, 3],
    ['2017-10-08', 4, 1],
    ['2017-10-09', 19, 5],
    ['2017-10-10', 3, 1],
    ['2017-10-12', 10, 3],
    ['2017-10-13', 3, 2],
    ['2017-10-18', 3, 1],
    ['2017-10-19', 14, 4],
    ['2017-10-20', 5, 1],
    ['2017-10-22', 4, 1],
    ['2017-10-25', 6, 1],
    ['2017-10-26', 6, 2],
    ['2017-10-27', 10, 1],
    ['2017-10-31', 6, 4],
    ['2017-11-02', 20, 8],
    ['2017-11-03', 7, 2],
    ['2017-11-04', 4, 1],
    ['2017-11-05', 3, 1],
    ['2017-11-08', 5, 1],
    ['2017-11-09', 9, 3],
    ['2017-11-10', 3, 1],
    ['2017-11-12', 12, 3],
    ['2017-11-14', 5, 1],
    ['2017-11-16', 13, 3],
    ['2017-11-17', 9, 2],
    ['2017-11-21', 4, 2],
    ['2017-11-24', 6, 2],
    ['2017-11-27', 3, 1],
    ['2017-12-01', 9, 2],
    ['2017-12-02', 8, 3],
    ['2017-12-04', 4, 1],
    ['2017-12-06', 5, 2],
    ['2017-12-07', 35, 5],
    ['2017-12-08', 27, 7],
    ['2017-12-14', 19, 4],
    ['2017-12-15', 14, 4],
    ['2017-12-17', 3, 1],
    ['2017-12-19', 6, 3],
    ['2017-12-22', 11, 3],
    ['2017-12-24', 2, 1],
    ['2017-12-27', 2, 1],
    ['2017-12-28', 14, 6],
    ['2017-12-29', 28, 6],
    ['2017-12-31', 13, 1],
    ['2018-01-02', 6, 1],
    ['2018-01-04', 15, 3],
    ['2018-01-07', 3, 1],
    ['2018-01-09', 9, 2],
    ['2018-01-11', 3, 2],
    ['2018-01-15', 7, 2],
    ['2018-01-19', 3, 1],
    ['2018-01-20', 2, 2],
    ['2018-01-21', 3, 2],
    ['2018-01-22', 4, 2],
    ['2018-01-23', 16, 4],
    ['2018-01-24', 28, 12],
    ['2018-01-25', 1, 1],
    ['2018-02-25', 3, 1],
    ['2018-03-05', 13, 1],
    ['2018-03-11', 3, 1],
    ['2018-03-18', 11, 2],
    ['2018-03-19', 3, 1],
    ['2018-03-24', 4, 2],
    ['2018-03-25', 4, 1],
    ['2018-04-01', 33, 4],
    ['2018-04-02', 2, 1],
    ['2018-04-08', 2, 1],
    ['2018-04-09', 14, 1],
    ['2018-04-14', 2, 1],
    ['2018-04-15', 25, 1],
    ['2018-04-22', 22, 1],
    ['2018-04-23', 114, 3],
    ['2018-04-27', 27, 2],
    ['2018-04-29', 58, 4],
    ['2018-04-30', 13, 3],
    ['2018-05-01', 31, 2],
    ['2018-05-06', 12, 3],
    ['2018-05-07', 97, 5],
    ['2018-05-14', 51, 3],
    ['2018-05-20', 14, 4],
    ['2018-05-21', 25, 6],
    ['2018-05-26', 22, 1],
    ['2018-05-28', 31, 1],
    ['2018-06-04', 16, 3],
    ['2018-06-06', 21, 2],
    ['2018-06-07', 115, 2],
    ['2018-06-09', 40, 2],
    ['2018-06-13', 38, 2],
    ['2018-06-14', 57, 2],
    ['2018-06-15', 212, 12],
    ['2018-06-16', 284, 16],
    ['2018-06-17', 67, 7],
];
var data_files = [];
var data_commits = [];
var labels = [];
for (var i = 0; i < raw.length; i++) {
	var cur_date = moment(raw[i][0], dateFormat);
	data_files.push({t: cur_date, y: raw[i][1]});
	data_commits.push({t: cur_date, y: raw[i][2]});
	labels.push(raw[i][0]);
}

var ctx = document.getElementById("canvas1").getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
		labels: labels,
        datasets: [{
			label: 'Commits',
            data: data_commits,
			type: 'bar',
			backgroundColor: window.chartColors.red,
		}]
    },
	options: {
			scales: {
				xAxes: [{
					type: 'time',
					stacked: true,
					// distribution: 'series',
					ticks: {
						source: 'labels',
					},
				}],
				yAxes: [{
					stacked: true,
					ticks: {
						beginAtZero:true
					}
				}]
			}
		}
});

var ctx2 = document.getElementById("canvas2").getContext('2d');
var myChart2 = new Chart(ctx2, {
    type: 'bar',
    data: {
		labels: labels,
        datasets: [{
			label: 'Changed files',
            data: data_files,
			type: 'bar',
			backgroundColor: window.chartColors.blue,
		}]
    },
	options: {
			scales: {
				xAxes: [{
					type: 'time',
					stacked: true,
					// distribution: 'series',
					ticks: {
						source: 'labels',
					},
				}],
				yAxes: [{
					stacked: true,
					ticks: {
						beginAtZero:true
					}
				}]
			}
		}
});
	</script>
</body>
</html>

